# Repository Audit — Recommended Actions

**Audit date:** 2025-02-08  
**Scope:** Clean & prune, structure, documentation, code health.

---

## 1. Clean & Prune

### 1.1 Remove from tracking (delete from repo + ensure in .gitignore)

| Action | File(s) | Reason |
|--------|---------|--------|
| **Delete & stop tracking** | `last_response.json` (root) | Temporary/API response file; already in .gitignore but was committed. |
| **Delete & stop tracking** | `Project/calander/last_response.json` | Same; generated/temporary. |
| **Delete & stop tracking** | `cron_output.log` | Log file; should not be in version control. |
| **Stop tracking** | `Project-Helix.code-workspace` | IDE-specific; add `*.code-workspace` to .gitignore. |

Commands (run from repo root):

```bash
git rm --cached last_response.json 2>/dev/null; git rm --cached Project/calander/last_response.json 2>/dev/null
git rm --cached cron_output.log 2>/dev/null
git rm --cached Project-Helix.code-workspace 2>/dev/null
# Optionally delete local copies if you want them gone:
# rm -f last_response.json cron_output.log Project/calander/last_response.json
```

### 1.2 Redundant / placeholder files — recommend delete or relocate

| Action | File(s) | Reason |
|--------|---------|--------|
| **Delete** | `test-dark-mode-button.html` | Standalone test page for dark mode; not part of app; redundant. |
| **Keep but optional move** | `test_app.py` | Validation/smoke script; consider moving to `tests/validate_app.py` and running via Makefile. |

### 1.3 .gitignore

- Already covers: `.env`, `__pycache__/`, `venv/`, `.vscode/`, `.idea/`, `.DS_Store`, `*.log`, `credentials.json`, `token.json`, `last_response.json`, Modal.
- **Add:** `*.code-workspace`, `*.log` (broader), `cron_output.log`, and optionally `Project/calander/*.json` if those JSON files are generated by scrapers (see **Structure** below).

A consolidated, project-tailored `.gitignore` is provided at the end of this audit.

---

## 2. Structure & Organization

### 2.1 Current layout

- **Root:** Many markdown docs, two run scripts (`run.sh`, `start_app.sh`), root `index.html` (GitHub Pages), `test_app.py`, `test-dark-mode-button.html`.
- **Project:** Flask app (`app.py`, `scrape.py`), `templates/`, `static/`, `calander/` (typo: “calendar”), `email_parser/`, and JSON data under `calander/`.

### 2.2 Recommended changes (optional, non-breaking)

| Recommendation | Details |
|----------------|---------|
| **Rename `calander` → `calendar`** | Fix typo. This is a breaking change for imports and paths; update `app.py`, docs, and any scripts. |
| **Consolidate docs** | Move non-essential docs into `docs/` (e.g. `docs/setup/`, `docs/deployment/`, `docs/troubleshooting/`) and keep in root only: `README.md`, `CONTRIBUTING.md`, `LICENSE`, and optionally one `SETUP.md` or `QUICKSTART.md`. |
| **Single entry script** | Prefer one script (e.g. `run.sh`) that supports `./run.sh` and optionally `./run.sh --venv`; deprecate or merge `start_app.sh` to avoid confusion. |
| **Tests** | Create `tests/` and move `test_app.py` → `tests/validate_app.py`; run via `make test` or `make validate`. |
| **Naming** | Python/Flask: `snake_case` (already used). Frontend: `kebab-case` for JS/CSS (e.g. `browse-events.js`) is consistent. No change required. |

### 2.3 Generated data

- `Project/calander/general_events.json` and `Project/calander/state_farm_events.json` may be scraper output. If they are regenerated by `scrape.py` or Modal, consider adding them to `.gitignore` and documenting how to generate them; otherwise keep as sample data.

---

## 3. Professional Documentation

### 3.1 README.md

- Current README is already strong: badges, features, quick start, structure, tech stack, architecture.
- **Improvements:** Fix port consistency (README says 5000, `run.sh` uses 5001), add Contributing/License sections that point to `CONTRIBUTING.md` and `LICENSE`, and add a short “Scripts / Makefile” section.

A **full replacement README.md** is provided below.

### 3.2 Support files

| File | Status | Action |
|------|--------|--------|
| **LICENSE** | Missing | Add MIT license (matches badge). |
| **CONTRIBUTING.md** | Missing | Add with PR/code-style/issue guidelines. |
| **requirements.txt** | Present in `Project/` | Keep; optionally pin versions (e.g. `Flask>=3.0,<4`) for reproducibility. |

---

## 4. Code Health

### 4.1 TODOs / commented code

- No `TODO`/`FIXME`/`XXX`/`HACK` found in `.py`, `.js`, `.html`, `.css`. No action.

### 4.2 Scripts / Makefile

- **Current:** `run.sh`, `start_app.sh`; no Makefile.
- **Recommendation:** Add a `Makefile` with targets: `run`, `test` (or `validate`), `install`, `scrape-local`, `scrape-modal`, `lint` (optional). This gives a single, consistent interface for common tasks.

A **sample Makefile** is provided below (optional).

---

## 5. Summary: Recommended file deletions/moves

**Delete from repo (and ensure in .gitignore):**

- `last_response.json` (root)
- `Project/calander/last_response.json`
- `cron_output.log`
- `test-dark-mode-button.html`

**Stop tracking (keep locally if desired):**

- `Project-Helix.code-workspace`

**Optional moves:**

- `test_app.py` → `tests/validate_app.py`
- Redundant/setup docs → `docs/setup/`, `docs/deployment/`, `docs/troubleshooting/`
- Consolidate `run.sh` and `start_app.sh` into one script

**Add:**

- `.gitignore` (updated — see below)
- `README.md` (updated — see below)
- `LICENSE` (MIT)
- `CONTRIBUTING.md`
- `Makefile` (optional)

---

## Applied in this audit

- **README.md** — Replaced with the new version (clear title, features, tech stack, getting started, usage, structure, contributing, license).
- **.gitignore** — Replaced with project-tailored version (env, Python, IDE, credentials, logs, `last_response.json`, `cron_output.log`, `*.code-workspace`).
- **CONTRIBUTING.md** — Created (fork, branch, run/test, code style, issues).
- **LICENSE** — Created (MIT).
- **Makefile** — Created (`install`, `run`, `test`, `scrape-local`, `scrape-modal`, `lint`, `help`).

To apply the recommended **cleanup** (remove cruft from tracking and delete placeholder file), run:

```bash
git rm --cached last_response.json 2>/dev/null || true
git rm --cached Project/calander/last_response.json 2>/dev/null || true
git rm --cached cron_output.log 2>/dev/null || true
git rm --cached Project-Helix.code-workspace 2>/dev/null || true
rm -f test-dark-mode-button.html
git add AUDIT_RECOMMENDATIONS.md README.md .gitignore CONTRIBUTING.md LICENSE Makefile
git status
```
